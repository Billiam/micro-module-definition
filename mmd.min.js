//	Micro Module Definition (MMD)
//	A tiny module definition and dependency management framework.
//	(c) 2012 Greg MacWilliam, Threespot.
//	Freely distributed under the MIT license.
	
var mmd=function(){var g={};return{define:function(){var a=arguments,d=function(c,b){for(b=0;b<a.length;b++)if(typeof a[b]===c)return a[b]},f=d("string"),e=d("object"),d=d("function");if(!f||!d)throw"invalid definition";g[f]={d:e instanceof Array?e:[],f:d}},require:function(a,d){var f=!(a instanceof Array),e,c,b;f&&(a=[a]);for(b=0;b<a.length;b++)if(e=a[b],"mmd"===e)a[b]=this;else if(g.hasOwnProperty(e)){c=g[e];if(!c.e){if(c.p)throw"circular reference to "+e;c.p=1;c.e=c.f.apply(null,this.require(c.d));
c.p=0}a[b]=c.e}else throw e+" is undefined";d&&d.apply&&d.apply(null,a);return f?a[0]:a}}}();