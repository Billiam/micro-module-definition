//	Micro Module Definition (MMD)
//	A tiny module definition and dependency management framework.
//	(c) 2012 Greg MacWilliam, Threespot.
//	Freely distributed under the MIT license.
	
var mmd=function(){var g={};return{define:function(){var a=arguments,c,d=function(b){for(c=0;c<a.length;c++)if(typeof a[c]===b)return a[c]},e=d("string"),b=d("object"),d=d("function");if(!e||!d)throw"invalid definition";g[e]={d:b instanceof Array?b:[],f:d}},require:function(a,c){var d=!(a instanceof Array),e,b,f;d&&(a=[a]);for(f=0;f<a.length;f++)if(e=a[f],"mmd"===e)a[f]=this;else if(g.hasOwnProperty(e)){b=g[e];if(!b.e){if(b.p)throw"circular reference to "+e;b.p=1;b.e=b.f.apply(null,this.require(b.d));
b.p=0}a[f]=b.e}else throw e+" is undefined";c&&c.apply&&c.apply(null,a);return d?a[0]:a}}}();